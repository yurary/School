<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            justify-items: center;
            align-items: center;
            
            
        }


    </style>
</head>
<body>
    <main>
        <canvas id="myCanvas"  width="500" height="500" style="border:1px solid #000000;;"></canvas><br>
       
    </main>
    
    

    <script>
        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");
        var xB = 500;
        var xM = 50;
        var mines = 10;
        var xxM = xM/2;
        console.log("zxc", xxM);
        
        
        
        function draw(x,y){
            ctx.beginPath();
            ctx.strokeRect(x,y, xM,xM);
            ctx.fillRect(x+5,y+5, xM-10,xM-10);
            ctx.stroke();

        }
        function drawselect(x,y){
            ctx.beginPath();
            ctx.fillStyle = "black";
            ctx.fillRect(x,y, xM,xM);
            ctx.fillStyle = "white";
            ctx.fillRect(x+5,y+5, xM-10,xM-10);
            ctx.stroke();
        }
        function drawluse(x,y){
            ctx.beginPath();
            ctx.fillStyle = "red";
            ctx.fillRect(x,y, xM,xM);
            ctx.stroke();
        }
        function check(x,y){
            ctx.beginPath();
            ctx.fillStyle = "Blue";
            ctx.fillRect(x,y, xM,xM);
            ctx.stroke();

        }
        function wheremins(){

        }
        let n = 0;
        for(var j = 0; j<=xB; j+=xM){
            n++
        }
        
        

        for(var j = 0; j<=xB; j+=xM){
            var kor = Math.round(Math.random()*n);
            
            for(var i = 0; i<= xB; i+=xM){
                
                
                draw(i,j)
                
                
            }
        }
        let kordinatsMins = [];
        while(kordinatsMins.length !== mines){
            let posX = Math.round(Math.random() * (xB-100));
            let posY = Math.round(Math.random() * (xB-100));
            if(posX%xM == 0 && posY%xM==0){
                kordinatsMins.push({
                    x: posX,
                    y: posY

                });

            }
        }
         for(let k = 0; k < kordinatsMins.length; k++) {
                        let element = kordinatsMins[k];
                        check(element.x, element.y);}
        

        
        console.log(kordinatsMins);

        

        c.addEventListener("click", (e) => {
            const mouseX = e.offsetX;
            const mouseY = e.offsetY;
            
            for(var j = 0; j<=xB; j+=xM){
                for(var i = 0; i<= xB; i+=xM){
                    if(mouseX>=i && mouseX<=i+xM && 
                       mouseY>=j && mouseY<=j+xM){
                    for(let k = 0; k < kordinatsMins.length; k++) {
                        let element = kordinatsMins[k];
                        
                        

                        if (mouseX >= element.x && mouseX <= element.x + xM &&
                            mouseY >= element.y && mouseY <= element.y + xM
                        ) {
                            
                            
                            drawluse(i, j);
                            return;
                        }
                            drawselect(i,j);
                            
                        }
                    

                
                    }
                }
            }
    
        });




    </script>
</body>
</html>